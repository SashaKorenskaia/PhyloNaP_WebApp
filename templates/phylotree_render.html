{% extends "base.html" %}
{% block content %}
<head>
  <!-- Your existing head content... -->
      <!-- Latest compiled and minified CSS -->
      <script src="https://code.jquery.com/jquery.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
  
      <link
        rel="stylesheet"
        href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous"
      />
      <link
        href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"
        rel="stylesheet"
      />
  
      <!-- Optional theme -->
      <link
        rel="stylesheet"
        href="//stackpath.bootstrapcdn.com/bootswatch/4.1.1/spacelab/bootstrap.min.css"
      />
     <!-- Latest compiled and minified JavaScript -->
     <script
     src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
     integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
     crossorigin="anonymous" defer
   ></script>
   <script
     src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
     integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
     crossorigin="anonymous" defer
   ></script>

   <script src="//d3js.org/d3.v6.js" defer></script>
   <script src="/static/js/phylotree.js/dist/phylotree.js" defer></script>

   <link href="/static/js/phylotree.js/dist/phylotree.css" rel="stylesheet" />

  <style>
    
    body, html {
      background-color: #D8BFD8;
      margin: 0;
      padding: 0;
    }
    .layout {
      display: flex;
      width: 100%; /* Use full viewport width */
      height: 100vh; /* Use full viewport height */
    }

    .tree {
      flex: 4; /* Take up 1 part of the available space */
      background-color: #fff; /* White background */
      overflow: auto; /* Add scrollbars if necessary */
    }

    .details {
      flex: 1; /* Take up 2 parts of the available space */
      background-color: #ccc; /* Grey background */
      overflow: auto; /* Add scrollbars if necessary */
    }

    #enlarged-image-container {
      position: fixed;
      right: -140px;
      top: 80%;
      transform: translateY(-50%);
      width: 50%; /* Adjust as needed */
    }

    #enlarged-image {
      width: 100%;
      height: auto;
    }
    .no-overlap {
    position: relative;
    z-index: 1;
  }
  #tree-container {
      width: 100%;
      height: 800px; /* Adjust this value as needed */

      /* Add scrollbars if the content is larger than the container */
      /* overflow: auto;  */

    } 
  </style>
</head>
<div class="layout">
  <div class="tree">
      <div class="d-flex align-items-center justify-content-between"> 
      <div class="btn-group" role="group">
        <button
        type="button"
        class="btn btn-light btn-sm"
        data-direction="vertical"
        data-amount="1"
        title="Expand vertical spacing"
      >
        <i class="fa fa-arrows-v"></i>
      </button>
      <button
        type="button"
        class="btn btn-light btn-sm"
        data-direction="vertical"
        data-amount="-1"
        title="Compress vertical spacing"
      >
        <i class="fa  fa-compress fa-rotate-135"></i>
      </button>
      <button
        type="button"
        class="btn btn-light btn-sm"
        data-direction="horizontal"
        data-amount="1"
        title="Expand horizonal spacing"
      >
        <i class="fa fa-arrows-h"></i>
      </button>
      <button
        type="button"
        class="btn btn-light btn-sm"
        data-direction="horizontal"
        data-amount="-1"
        title="Compress horizonal spacing"
      >
        <i class="fa  fa-compress fa-rotate-45"></i>
      </button>
      <button
        type="button"
        class="btn btn-light btn-sm"
        id="sort_ascending"
        title="Sort deepest clades to the bototm"
      >
        <i class="fa fa-sort-amount-asc"></i>
      </button>
      <button
        type="button"
        class="btn btn-light btn-sm"
        id="sort_descending"
        title="Sort deepsest clades to the top"
      >
        <i class="fa fa-sort-amount-desc"></i>
      </button>
      <button
        type="button"
        class="btn btn-light btn-sm"
        id="sort_original"
        title="Restore original order"
      >
        <i class="fa fa-sort"></i>
      </button>
      <button
        type="button"
        class="btn btn-light btn-sm"
        id="save_image"
        title="Save image"
      >
      </button>
        <button
          class="btn btn-light btn-sm active phylotree-align-toggler"
          data-align="left"
        >
          <i class="fa fa-align-left"></i>
        </button>
        <button
          class="btn btn-light btn-sm phylotree-align-toggler"
          data-align="right"
        >
          <i class="fa fa-align-right"></i>
        </button>
      </div>
    </div>
    


    <div id="tree"></div>
    <div id="tree-container" nwk_data="{{ nwk_data }}"></div>
    <div id="metadata-container" metadata="{{ metadata }}"></div>

  
    
  </div>
  <div class="details">
      <!-- <div class="d-flex justify-content-end"> -->
    <div style="display: flex; justify-content: flex-end;">
      
      <div style="padding: 10px; margin-top: 1rem; "> <!-- Add background color, padding and top margin -->
          <h4>Annotation</h4>
          <button id="Enzyme_function" class="btn m-1" style="background-color: #a61e37; color: white;">Enzyme Function</button>
          <button id="Species" class="btn m-1" style="background-color: #a61e37; color: white;">Species</button>
          <button id="biosyn_class" class="btn m-1" style="background-color: #a61e37; color: white;">BGC type</button>
          <h4>Structures</h4>
          <button id="BGC_product" class="btn m-1" style="background-color: #a61e37; color: white;">BGC product</button>
      </div>
      </div>

      <div id="enlarged-image-container">
        <!-- <img id="enlarged-image" src="" alt="Enlarged image" /> -->
        <img id="enlarged-image" src="" />
      </div>
</div>

  </div>







<script>
  const content = "{{ content }}";
  console.log("phylotree_render.html content:");
  console.log(content);
</script>
<script src="static/js/tree_rendering.js" async="true"></script>



{% endblock %}